<a class="menu-lv-1__action header__menu-item header__menu-item list-menu__item link link--text focus-inset link-effect">   <span  class="open-slider-button text p-relative"><svg xmlns="http://www.w3.org/2000/svg" fill="#000000" width="800px" height="800px" viewBox="0 0 100 100" enable-background="new 0 0 100 100" xml:space="preserve">
<g>
	<path d="M24,23h44c2.2,0,4,1.8,4,4v4c0,2.2-1.8,4-4,4H24c-2.2,0-4-1.8-4-4v-4C20,24.8,21.8,23,24,23z"/>
	<path d="M24,41h25c2.2,0,4,1.8,4,4v4c0,2.2-1.8,4-4,4H24c-2.2,0-4-1.8-4-4v-4C20,42.8,21.8,41,24,41z"/>
	<path d="M65.9,52c7.7,0,14,6.3,14,14s-6.3,14-14,14s-14-6.3-14-14S58.2,52,65.9,52z M73.8,62.9c0.3-0.3,0.3-1,0-1.3   l-1.4-1.3c-0.4-0.4-1-0.4-1.4,0l-7.5,8.4l-3.4-3.4c-0.4-0.4-1-0.4-1.4,0l-1.4,1.3c-0.4,0.3-0.4,0.9,0,1.3l4.8,4.7   c0.4,0.4,0.9,0.6,1.4,0.6c0.6,0,1-0.2,1.4-0.6L73.8,62.9z M24,59h23.2c-0.8,2.3-1.2,4.3-1.2,6c-0.1,2.1,0.1,4.1,0.6,6H24l0,0   c-2.2,0-4-1.8-4-4v-4l0,0C20,60.8,21.8,59,24,59z"/>
</g>
</span> </a>
<style>#shopify-section-sections--21572548755640__custom_liquid_UYPf3E{
  padding-left:6vw;
  padding-right:6vw;
  text-align:right;
}</style>
<div id="shopify-section-template--21572547805368__custom_liquid_D7K3Lxx">
      <div class="question-slider" style="display: none">
        <div class="question-cards">
          <!-- Question 1: Gender -->
          <div class="question-card">
            <span class="close-questions">
              <svg
                xmlns="http://www.w3.org/2000/svg"
                width="800px"
                height="800px"
                viewBox="0 0 24 24"
                fill="none"
              >
                <path
                  d="M3 12C3 7.02944 7.02944 3 12 3C16.9706 3 21 7.02944 21 12C21 16.9706 16.9706 21 12 21C7.02944 21 3 16.9706 3 12Z"
                  stroke="#000000"
                  stroke-width="2"
                />
                <path
                  d="M9 9L15 15M15 9L9 15"
                  stroke="#000000"
                  stroke-width="2"
                  stroke-linecap="round"
                />
              </svg>
            </span>
            <div class="top-section-ques">
              <p>What is your gender?</p>
              <div class="choices">
                <label
                  ><input
                    type="radio"
                    name="question1"
                    value="Female"
                  />Female</label
                >
                <label
                  ><input
                    type="radio"
                    name="question1"
                    value="Male"
                  />Male</label
                >
                <label
                  ><input
                    type="radio"
                    name="question1"
                    value="Other"
                  />Other</label
                >
              </div>
            </div>
            <div class="next-back-ques-buttons">
              <button class="next-button" disabled>
                <svg
                  xmlns="http://www.w3.org/2000/svg"
                  width="56"
                  height="56"
                  viewBox="0 0 56 56"
                  fill="none"
                >
                  <path
                    d="M27.5786 12.254L26.1644 13.6848C25.8297 14.0234 25.8297 14.5724 26.1644 14.9111L37.2451 26.1212H12.8571C12.3838 26.1212 12 26.5094 12 26.9883V29.0117C12 29.4906 12.3838 29.8788 12.8571 29.8788H37.2451L26.1644 41.0889C25.8297 41.4276 25.8297 41.9766 26.1644 42.3153L27.5786 43.746C27.9133 44.0847 28.4561 44.0847 28.7908 43.746L43.749 28.6132C44.0837 28.2746 44.0837 27.7255 43.749 27.3868L28.7908 12.254C28.4561 11.9153 27.9133 11.9153 27.5786 12.254Z"
                    fill="white"
                  />
                  <circle
                    cx="28"
                    cy="28"
                    r="26.5"
                    stroke="white"
                    stroke-width="3"
                  />
                </svg>
              </button>
            </div>
          </div>

          <!-- Question 2: Age -->
          <div class="question-card">
            <span class="close-questions">
              <svg
                xmlns="http://www.w3.org/2000/svg"
                width="800px"
                height="800px"
                viewBox="0 0 24 24"
                fill="none"
              >
                <path
                  d="M3 12C3 7.02944 7.02944 3 12 3C16.9706 3 21 7.02944 21 12C21 16.9706 16.9706 21 12 21C7.02944 21 3 16.9706 3 12Z"
                  stroke="#000000"
                  stroke-width="2"
                />
                <path
                  d="M9 9L15 15M15 9L9 15"
                  stroke="#000000"
                  stroke-width="2"
                  stroke-linecap="round"
                />
              </svg>
            </span>
            <div class="top-section-ques">
              <p>How old are you?</p>
              <div class="choices">
                <label
                  ><input
                    type="radio"
                    name="question2"
                    value="Less than 18"
                  />Less than 18</label
                >
                <label
                  ><input type="radio" name="question2" value="18 - 25" />18 -
                  25</label
                >
                <label
                  ><input type="radio" name="question2" value="25 - 35" />25 -
                  35</label
                >
                <label
                  ><input type="radio" name="question2" value="35+" />35+</label
                >
              </div>
            </div>
            <div class="next-back-ques-buttons">
              <button class="back-button">
                <svg
                  width="56"
                  height="56"
                  viewBox="0 0 56 56"
                  fill="none"
                  xmlns="http://www.w3.org/2000/svg"
                >
                  <path
                    d="M28.4214 43.746L29.8356 42.3152C30.1703 41.9766 30.1703 41.4276 29.8356 41.0889L18.7549 29.8788L43.1429 29.8788C43.6162 29.8788 44 29.4906 44 29.0117L44 26.9883C44 26.5094 43.6162 26.1212 43.1429 26.1212L18.7549 26.1212L29.8356 14.9111C30.1703 14.5724 30.1703 14.0234 29.8356 13.6847L28.4214 12.254C28.0867 11.9153 27.5439 11.9153 27.2092 12.254L12.251 27.3868C11.9163 27.7254 11.9163 28.2745 12.251 28.6132L27.2092 43.746C27.5439 44.0847 28.0867 44.0847 28.4214 43.746Z"
                    fill="white"
                  />
                  <circle
                    cx="28"
                    cy="28"
                    r="26.5"
                    stroke="white"
                    stroke-width="3"
                  />
                </svg>
              </button>
              <button class="next-button" disabled>
                <svg
                  xmlns="http://www.w3.org/2000/svg"
                  width="56"
                  height="56"
                  viewBox="0 0 56 56"
                  fill="none"
                >
                  <path
                    d="M27.5786 12.254L26.1644 13.6848C25.8297 14.0234 25.8297 14.5724 26.1644 14.9111L37.2451 26.1212H12.8571C12.3838 26.1212 12 26.5094 12 26.9883V29.0117C12 29.4906 12.3838 29.8788 12.8571 29.8788H37.2451L26.1644 41.0889C25.8297 41.4276 25.8297 41.9766 26.1644 42.3153L27.5786 43.746C27.9133 44.0847 28.4561 44.0847 28.7908 43.746L43.749 28.6132C44.0837 28.2746 44.0837 27.7255 43.749 27.3868L28.7908 12.254C28.4561 11.9153 27.9133 11.9153 27.5786 12.254Z"
                    fill="white"
                  />
                  <circle
                    cx="28"
                    cy="28"
                    r="26.5"
                    stroke="white"
                    stroke-width="3"
                  />
                </svg>
              </button>
            </div>
          </div>

          <!-- Question 3: Skin Type -->
          <div class="question-card">
            <span class="close-questions">
              <svg
                xmlns="http://www.w3.org/2000/svg"
                width="800px"
                height="800px"
                viewBox="0 0 24 24"
                fill="none"
              >
                <path
                  d="M3 12C3 7.02944 7.02944 3 12 3C16.9706 3 21 7.02944 21 12C21 16.9706 16.9706 21 12 21C7.02944 21 3 16.9706 3 12Z"
                  stroke="#000000"
                  stroke-width="2"
                />
                <path
                  d="M9 9L15 15M15 9L9 15"
                  stroke="#000000"
                  stroke-width="2"
                  stroke-linecap="round"
                />
              </svg>
            </span>
            <div class="top-section-ques">
              <p>How would you describe your skin type?</p>
              <div class="choices">
                <label
                  ><input
                    type="radio"
                    name="question3"
                    value="On the dry side"
                  />On the dry side</label
                >
                <label
                  ><input
                    type="radio"
                    name="question3"
                    value="Mixed"
                  />Mixed</label
                >
                <label
                  ><input
                    type="radio"
                    name="question3"
                    value="On the oily side"
                  />On the oily side</label
                >
                <label
                  ><input
                    type="radio"
                    name="question3"
                    value="Balanced / I’m not sure"
                  />Balanced / I’m not sure</label
                >
              </div>
            </div>
            <div class="next-back-ques-buttons">
              <button class="back-button">
                <svg
                  width="56"
                  height="56"
                  viewBox="0 0 56 56"
                  fill="none"
                  xmlns="http://www.w3.org/2000/svg"
                >
                  <path
                    d="M28.4214 43.746L29.8356 42.3152C30.1703 41.9766 30.1703 41.4276 29.8356 41.0889L18.7549 29.8788L43.1429 29.8788C43.6162 29.8788 44 29.4906 44 29.0117L44 26.9883C44 26.5094 43.6162 26.1212 43.1429 26.1212L18.7549 26.1212L29.8356 14.9111C30.1703 14.5724 30.1703 14.0234 29.8356 13.6847L28.4214 12.254C28.0867 11.9153 27.5439 11.9153 27.2092 12.254L12.251 27.3868C11.9163 27.7254 11.9163 28.2745 12.251 28.6132L27.2092 43.746C27.5439 44.0847 28.0867 44.0847 28.4214 43.746Z"
                    fill="white"
                  />
                  <circle
                    cx="28"
                    cy="28"
                    r="26.5"
                    stroke="white"
                    stroke-width="3"
                  />
                </svg>
              </button>
              <button class="next-button" disabled>
                <svg
                  xmlns="http://www.w3.org/2000/svg"
                  width="56"
                  height="56"
                  viewBox="0 0 56 56"
                  fill="none"
                >
                  <path
                    d="M27.5786 12.254L26.1644 13.6848C25.8297 14.0234 25.8297 14.5724 26.1644 14.9111L37.2451 26.1212H12.8571C12.3838 26.1212 12 26.5094 12 26.9883V29.0117C12 29.4906 12.3838 29.8788 12.8571 29.8788H37.2451L26.1644 41.0889C25.8297 41.4276 25.8297 41.9766 26.1644 42.3153L27.5786 43.746C27.9133 44.0847 28.4561 44.0847 28.7908 43.746L43.749 28.6132C44.0837 28.2746 44.0837 27.7255 43.749 27.3868L28.7908 12.254C28.4561 11.9153 27.9133 11.9153 27.5786 12.254Z"
                    fill="white"
                  />
                  <circle
                    cx="28"
                    cy="28"
                    r="26.5"
                    stroke="white"
                    stroke-width="3"
                  />
                </svg>
              </button>
            </div>
          </div>

          <!-- Question 4: Hormonal changes -->
          <div class="question-card">
            <span class="close-questions">
              <svg
                xmlns="http://www.w3.org/2000/svg"
                width="800px"
                height="800px"
                viewBox="0 0 24 24"
                fill="none"
              >
                <path
                  d="M3 12C3 7.02944 7.02944 3 12 3C16.9706 3 21 7.02944 21 12C21 16.9706 16.9706 21 12 21C7.02944 21 3 16.9706 3 12Z"
                  stroke="#000000"
                  stroke-width="2"
                />
                <path
                  d="M9 9L15 15M15 9L9 15"
                  stroke="#000000"
                  stroke-width="2"
                  stroke-linecap="round"
                />
              </svg>
            </span>
            <div class="top-section-ques">
              <p>Any changes during the month (hormonal)?</p>
              <div class="choices">
                <label
                  ><input
                    type="radio"
                    name="question4"
                    value="Restore"
                  />Dryness</label
                >
                <label
                  ><input
                    type="radio"
                    name="question4"
                    value="Exfoliate"
                  />Pimples</label
                >
                <label
                  ><input
                    type="radio"
                    name="question4"
                    value="Soothe"
                  />Oilyness</label
                >
                <label
                  ><input type="radio" name="question4" value="Glow" />Dull
                  complexion</label
                >
              </div>
            </div>
            <div class="next-back-ques-buttons">
              <button class="back-button">
                <svg
                  width="56"
                  height="56"
                  viewBox="0 0 56 56"
                  fill="none"
                  xmlns="http://www.w3.org/2000/svg"
                >
                  <path
                    d="M28.4214 43.746L29.8356 42.3152C30.1703 41.9766 30.1703 41.4276 29.8356 41.0889L18.7549 29.8788L43.1429 29.8788C43.6162 29.8788 44 29.4906 44 29.0117L44 26.9883C44 26.5094 43.6162 26.1212 43.1429 26.1212L18.7549 26.1212L29.8356 14.9111C30.1703 14.5724 30.1703 14.0234 29.8356 13.6847L28.4214 12.254C28.0867 11.9153 27.5439 11.9153 27.2092 12.254L12.251 27.3868C11.9163 27.7254 11.9163 28.2745 12.251 28.6132L27.2092 43.746C27.5439 44.0847 28.0867 44.0847 28.4214 43.746Z"
                    fill="white"
                  />
                  <circle
                    cx="28"
                    cy="28"
                    r="26.5"
                    stroke="white"
                    stroke-width="3"
                  />
                </svg>
              </button>
              <button class="next-button" disabled>
                <svg
                  xmlns="http://www.w3.org/2000/svg"
                  width="56"
                  height="56"
                  viewBox="0 0 56 56"
                  fill="none"
                >
                  <path
                    d="M27.5786 12.254L26.1644 13.6848C25.8297 14.0234 25.8297 14.5724 26.1644 14.9111L37.2451 26.1212H12.8571C12.3838 26.1212 12 26.5094 12 26.9883V29.0117C12 29.4906 12.3838 29.8788 12.8571 29.8788H37.2451L26.1644 41.0889C25.8297 41.4276 25.8297 41.9766 26.1644 42.3153L27.5786 43.746C27.9133 44.0847 28.4561 44.0847 28.7908 43.746L43.749 28.6132C44.0837 28.2746 44.0837 27.7255 43.749 27.3868L28.7908 12.254C28.4561 11.9153 27.9133 11.9153 27.5786 12.254Z"
                    fill="white"
                  />
                  <circle
                    cx="28"
                    cy="28"
                    r="26.5"
                    stroke="white"
                    stroke-width="3"
                  />
                </svg>
              </button>
            </div>
          </div>

          <!-- Question 5: Skin Concerns -->
          <div class="question-card">
            <span class="close-questions">
              <svg
                xmlns="http://www.w3.org/2000/svg"
                width="800px"
                height="800px"
                viewBox="0 0 24 24"
                fill="none"
              >
                <path
                  d="M3 12C3 7.02944 7.02944 3 12 3C16.9706 3 21 7.02944 21 12C21 16.9706 16.9706 21 12 21C7.02944 21 3 16.9706 3 12Z"
                  stroke="#000000"
                  stroke-width="2"
                />
                <path
                  d="M9 9L15 15M15 9L9 15"
                  stroke="#000000"
                  stroke-width="2"
                  stroke-linecap="round"
                />
              </svg>
            </span>
            <div class="top-section-ques">
              <p>Please define your top 3 skin concerns (Select exactly 3)</p>
              <div class="choices">
                <label
                  ><input
                    type="checkbox"
                    name="question5"
                    value="Restore"
                  />Redness/Irritated skin</label
                >
                <label
                  ><input
                    type="checkbox"
                    name="question5"
                    value="Restore"
                  />Skin tightness</label
                >
                <label
                  ><input
                    type="checkbox"
                    name="question5"
                    value="Exfoliate"
                  />Blackheads/Clogged pores</label
                >
                <label
                  ><input
                    type="checkbox"
                    name="question5"
                    value="Exfoliate"
                  />Textured/Bumpy skin</label
                >
                <label
                  ><input
                    type="checkbox"
                    name="question5"
                    value="Soothe"
                  />Inflammatory acne/breakouts</label
                >
                <label
                  ><input type="checkbox" name="question5" value="Tone" />Dark
                  spots/Blemished marks</label
                >
                <label
                  ><input type="checkbox" name="question5" value="Tone" />Uneven
                  skintone</label
                >
                <label
                  ><input type="checkbox" name="question5" value="Glow" />Dull
                  skin/Lack of radiance</label
                >
                <label
                  ><input type="checkbox" name="question5" value="Youth" />Fines
                  Lines/Wrinkle</label
                >
              </div>
            </div>
            <div class="next-back-ques-buttons">
              <button class="back-button">
                <svg
                  width="56"
                  height="56"
                  viewBox="0 0 56 56"
                  fill="none"
                  xmlns="http://www.w3.org/2000/svg"
                >
                  <path
                    d="M28.4214 43.746L29.8356 42.3152C30.1703 41.9766 30.1703 41.4276 29.8356 41.0889L18.7549 29.8788L43.1429 29.8788C43.6162 29.8788 44 29.4906 44 29.0117L44 26.9883C44 26.5094 43.6162 26.1212 43.1429 26.1212L18.7549 26.1212L29.8356 14.9111C30.1703 14.5724 30.1703 14.0234 29.8356 13.6847L28.4214 12.254C28.0867 11.9153 27.5439 11.9153 27.2092 12.254L12.251 27.3868C11.9163 27.7254 11.9163 28.2745 12.251 28.6132L27.2092 43.746C27.5439 44.0847 28.0867 44.0847 28.4214 43.746Z"
                    fill="white"
                  />
                  <circle
                    cx="28"
                    cy="28"
                    r="26.5"
                    stroke="white"
                    stroke-width="3"
                  />
                </svg>
              </button>
              <button class="next-button" disabled>
                <svg
                  xmlns="http://www.w3.org/2000/svg"
                  width="56"
                  height="56"
                  viewBox="0 0 56 56"
                  fill="none"
                >
                  <path
                    d="M27.5786 12.254L26.1644 13.6848C25.8297 14.0234 25.8297 14.5724 26.1644 14.9111L37.2451 26.1212H12.8571C12.3838 26.1212 12 26.5094 12 26.9883V29.0117C12 29.4906 12.3838 29.8788 12.8571 29.8788H37.2451L26.1644 41.0889C25.8297 41.4276 25.8297 41.9766 26.1644 42.3153L27.5786 43.746C27.9133 44.0847 28.4561 44.0847 28.7908 43.746L43.749 28.6132C44.0837 28.2746 44.0837 27.7255 43.749 27.3868L28.7908 12.254C28.4561 11.9153 27.9133 11.9153 27.5786 12.254Z"
                    fill="white"
                  />
                  <circle
                    cx="28"
                    cy="28"
                    r="26.5"
                    stroke="white"
                    stroke-width="3"
                  />
                </svg>
              </button>
            </div>
          </div>

          <!-- Question 6: Skin Goals -->
          <div class="question-card">
            <span class="close-questions">
              <svg
                xmlns="http://www.w3.org/2000/svg"
                width="800px"
                height="800px"
                viewBox="0 0 24 24"
                fill="none"
              >
                <path
                  d="M3 12C3 7.02944 7.02944 3 12 3C16.9706 3 21 7.02944 21 12C21 16.9706 16.9706 21 12 21C7.02944 21 3 16.9706 3 12Z"
                  stroke="#000000"
                  stroke-width="2"
                />
                <path
                  d="M9 9L15 15M15 9L9 15"
                  stroke="#000000"
                  stroke-width="2"
                  stroke-linecap="round"
                />
              </svg>
            </span>
            <div class="top-section-ques">
              <p>Please define your top 2 skin goals (Select exactly 2)</p>
              <div class="choices">
                <label
                  ><input
                    type="checkbox"
                    name="question6"
                    value="Restore"
                  />Strong skin barrier</label
                >
                <label
                  ><input
                    type="checkbox"
                    name="question6"
                    value="Exfoliate"
                  />Clear Skin / Pimple Free</label
                >
                <label
                  ><input type="checkbox" name="question6" value="Soothe" />Keep
                  the breakouts away</label
                >
                <label
                  ><input
                    type="checkbox"
                    name="question6"
                    value="Tone"
                  />Flawless complexion</label
                >
                <label
                  ><input
                    type="checkbox"
                    name="question6"
                    value="Glow"
                  />Healthy radiance</label
                >
                <label
                  ><input
                    type="checkbox"
                    name="question6"
                    value="Youth"
                  />Youthful look</label
                >
              </div>
            </div>
            <div class="next-back-ques-buttons">
              <button class="back-button">
                <svg
                  width="56"
                  height="56"
                  viewBox="0 0 56 56"
                  fill="none"
                  xmlns="http://www.w3.org/2000/svg"
                >
                  <path
                    d="M28.4214 43.746L29.8356 42.3152C30.1703 41.9766 30.1703 41.4276 29.8356 41.0889L18.7549 29.8788L43.1429 29.8788C43.6162 29.8788 44 29.4906 44 29.0117L44 26.9883C44 26.5094 43.6162 26.1212 43.1429 26.1212L18.7549 26.1212L29.8356 14.9111C30.1703 14.5724 30.1703 14.0234 29.8356 13.6847L28.4214 12.254C28.0867 11.9153 27.5439 11.9153 27.2092 12.254L12.251 27.3868C11.9163 27.7254 11.9163 28.2745 12.251 28.6132L27.2092 43.746C27.5439 44.0847 28.0867 44.0847 28.4214 43.746Z"
                    fill="white"
                  />
                  <circle
                    cx="28"
                    cy="28"
                    r="26.5"
                    stroke="white"
                    stroke-width="3"
                  />
                </svg>
              </button>
              <button class="submit-button" disabled>Submit</button>
            </div>
          </div>
        </div>
      </div>

      <div class="result-slider" style="display: none">
        <div class="result-cards"><span class="close-questions">
              <svg xmlns="http://www.w3.org/2000/svg" width="800px" height="800px" viewBox="0 0 24 24" fill="none">
                <path d="M3 12C3 7.02944 7.02944 3 12 3C16.9706 3 21 7.02944 21 12C21 16.9706 16.9706 21 12 21C7.02944 21 3 16.9706 3 12Z" stroke="#000000" stroke-width="2"></path>
                <path d="M9 9L15 15M15 9L9 15" stroke="#000000" stroke-width="2" stroke-linecap="round"></path>
              </svg>
            </span></div>
      </div>
    </div>
<script>
 document.addEventListener("DOMContentLoaded", function () {
let openSliderButton = document.querySelector(".open-slider-button");
    const questionSlider = document.querySelector(".question-slider");
    const resultSlider = document.querySelector(".result-slider");
    const headerNavigation = document.querySelector("#shopify-section-sections--21572548755640__header_navigation_basic_bLRAfe");
    const body = document.body;
    const html = document.documentElement;

    openSliderButton.addEventListener("click", function () {
        questionSlider.style.display = "flex";
        resultSlider.style.display = "none";
        body.style.overflow = "hidden";
        html.style.overflow = "hidden";
        headerNavigation.style.zIndex = "0"; // Set z-index to 0 when slider is opened
    });

    const closeButtons = document.querySelectorAll(".close-questions");
    closeButtons.forEach((button) => {
        button.addEventListener("click", function () {
            questionSlider.style.display = "none";
            html.style.overflow = "auto";
            body.style.overflow = "auto";
            headerNavigation.style.zIndex = "22"; // Reset z-index to 22 when slider is closed
        });
    });

    const totalCards = document.querySelectorAll(".question-card").length;
    let cardWidth = window.innerWidth;
    let currentIndex = 0;
    let isTransitioning = false;
    const userChoices = new Array(totalCards).fill(false);
    const selectedValues = {
        question1: null,
        question2: null,
        question3: null,
        question4: null,
        question5: [],
        question6: [],
    };

    window.addEventListener(
        "resize",
        debounce(function () {
            cardWidth = window.innerWidth;
        }, 100)
    );

    document.querySelectorAll(".question-card").forEach((card, index) => {
        if (index === 4) {
            card.querySelectorAll('input[type="checkbox"]').forEach((input) => {
                input.addEventListener("change", () => {
                    const checkedBoxes = card.querySelectorAll('input[type="checkbox"]:checked').length;
                    card.querySelector(".next-button").disabled = checkedBoxes !== 3;
                    userChoices[index] = checkedBoxes === 3;
                });
            });
        } else if (index === 5) {
            card.querySelectorAll('input[type="checkbox"]').forEach((input) => {
                input.addEventListener("change", () => {
                    const checkedBoxes = card.querySelectorAll('input[type="checkbox"]:checked').length;
                    card.querySelector(".submit-button").disabled = checkedBoxes !== 2;
                    userChoices[index] = checkedBoxes === 2;
                });
            });
        } else {
            card.querySelectorAll('input[type="radio"]').forEach((input) => {
                input.addEventListener("change", (event) => {
                    userChoices[index] = true;
                    card.querySelector(".next-button").disabled = false;
                    selectedValues[`question${index + 1}`] = event.target.value;
                });
            });
        }

        const nextButton = card.querySelector(".next-button");
        if (nextButton) {
            nextButton.addEventListener("click", () => {
                if (userChoices[currentIndex] && !isTransitioning) {
                    isTransitioning = true;
                    currentIndex++;
                    if (currentIndex < totalCards) {
                        gsap.to(".question-cards", {
                            x: -cardWidth * currentIndex,
                            duration: 0.5,
                            onComplete: () => {
                                isTransitioning = false;
                            },
                        });
                    } else {
                        isTransitioning = false;
                    }
                }
            });
        }

        const backButton = card.querySelector(".back-button");
        if (backButton) {
            backButton.addEventListener("click", () => {
                if (!isTransitioning) {
                    isTransitioning = true;
                    currentIndex--;
                    if (currentIndex >= 0) {
                        gsap.to(".question-cards", {
                            x: -cardWidth * currentIndex,
                            duration: 0.5,
                            onComplete: () => {
                                isTransitioning = false;
                            },
                        });
                    } else {
                        isTransitioning = false;
                    }
                }
            });
        }

        const submitButton = card.querySelector(".submit-button");
        if (submitButton) {
            submitButton.addEventListener("click", () => {
                if (userChoices[currentIndex]) {
                    selectedValues.question5 = Array.from(document.querySelectorAll('input[name="question5"]:checked')).map((cb) => cb.value);
                    selectedValues.question6 = Array.from(document.querySelectorAll('input[name="question6"]:checked')).map((cb) => cb.value);
                    const results = processResults(selectedValues);
                    displayResults(results, selectedValues);
                }
            });
        }
    });

    function debounce(func, wait) {
        let timeout;
        return function (...args) {
            clearTimeout(timeout);
            timeout = setTimeout(() => func.apply(this, args), wait);
        };
    }

    function processResults(values) {
        const productMapping = {
            Restore: ["Restore Skinfuse"],
            Exfoliate: ["Exfoliate Skinfuse"],
            Soothe: ["Soothe Skinfuse"],
            Glow: ["Glow Skinfuse"],
            Tone: ["Complexion Skinfuse"],
            Youth: ["Youth Skinfuse"],
        };

        const resultCount = {
            "Restore Skinfuse": 0,
            "Exfoliate Skinfuse": 0,
            "Soothe Skinfuse": 0,
            "Glow Skinfuse": 0,
            "Complexion Skinfuse": 0,
            "Youth Skinfuse": 0,
        };

        if (["Less than 18", "18 - 25"].includes(values.question2)) {
            resultCount["Youth Skinfuse"] = -1;
        }

        if (values.question3 === "On the dry side") {
            resultCount["Restore Skinfuse"]++;
        } else if (values.question3 === "Mixed") {
            resultCount["Restore Skinfuse"]++;
            resultCount["Glow Skinfuse"]++;
        } else if (values.question3 === "On the oily side") {
            resultCount["Soothe Skinfuse"]++;
            resultCount["Exfoliate Skinfuse"]++;
        } else if (values.question3 === "Balanced / I’m not sure") {
            resultCount["Restore Skinfuse"]++;
            resultCount["Glow Skinfuse"]++;
        }

        if (values.question4) {
            const product = productMapping[values.question4][0];
            resultCount[product]++;
        }

        values.question5.forEach((concern) => {
            if (productMapping[concern]) {
                const product = productMapping[concern][0];
                resultCount[product]++;
            }
        });

        values.question6.forEach((goal) => {
            if (productMapping[goal]) {
                const product = productMapping[goal][0];
                resultCount[product]++;
            }
        });

        const sortedProducts = Object.entries(resultCount)
            .filter(([, count]) => count >= 0)
            .sort(([, countA], [, countB]) => countB - countA)
            .slice(0, 3)
            .map(([product]) => product);

        return sortedProducts;
    }

    function displayResults(products, values) {
        const resultContainer = document.querySelector(".result-cards");
        resultContainer.innerHTML = "";

        const pearlCountMapping = {
            "On the dry side": "3",
            Mixed: "2 to 3",
            "On the oily side": "1 to 2",
            "Balanced / I’m not sure": "2 to 3",
        };

        const pearlCount = pearlCountMapping[values.question3] || "0";

        const productLinks = {
            "Restore Skinfuse": "https://bobblie.myshopify.com/products/restore-skinfuse",
            "Glow Skinfuse": "https://bobblie.myshopify.com/products/glow-skinfuse",
            "Exfoliate Skinfuse": "https://bobblie.myshopify.com/products/exfoliate-skinfuse",
            "Youth Skinfuse": "https://bobblie.myshopify.com/products/youth-skinfuse",
            "Complexion Skinfuse": "https://bobblie.myshopify.com/products/complexion-skinfuse",
            "Soothe Skinfuse": "https://bobblie.myshopify.com/products/soothe-skinfuse",
        };

        const imageLinks = {
            "Restore Skinfuse": "https://cdn.shopify.com/s/files/1/0666/6135/1608/files/Group_168.png?v=1721909813",
            "Glow Skinfuse": "https://cdn.shopify.com/s/files/1/0666/6135/1608/files/Link_-_Brillare_Acne_Body_Wash_responsive-image_3-a_756fb353-e2ab-472a-86bb-ba066be82b4e.jpg_2.png?v=1721909813",
            "Exfoliate Skinfuse": "https://cdn.shopify.com/s/files/1/0666/6135/1608/files/Link_-_Brillare_Acne_Body_Wash_responsive-image_3-a_756fb353-e2ab-472a-86bb-ba066be82b4e_jpg.png?v=1721909813",
            "Youth Skinfuse": "https://cdn.shopify.com/s/files/1/0666/6135/1608/files/Link_-_Brillare_Acne_Body_Wash_responsive-image_3-a_756fb353-e2ab-472a-86bb-ba066be82b4e.jpg_3.png?v=1721909813",
            "Complexion Skinfuse": "https://cdn.shopify.com/s/files/1/0666/6135/1608/files/Frame_22.png?v=1721909813",
            "Soothe Skinfuse": "https://cdn.shopify.com/s/files/1/0666/6135/1608/files/Link_-_Brillare_Acne_Body_Wash_responsive-image_3-a_756fb353-e2ab-472a-86bb-ba066be82b4e.jpg_1.png?v=1721909813",
        };

        const resultCard = document.createElement("div");
        resultCard.className = "result-card";
        let resultHTML = `<p>Number of pearls: ${pearlCount}</p>`;

        resultHTML += `
        <div class="result-and-image">
            <p><strong>Your Perfect Match!</strong></p>
            <a href="${productLinks[products[0]]}">
                <p>${products[0]}</p>
                <img src="${imageLinks[products[0]]}" alt="${products[0]}" style=" height: auto;" />
            </a>
        </div>
        <div class="result-and-image">
            <p><strong>Complete your routine for maximum benefit!</strong></p>`;

        products.slice(1).forEach((product) => {
            resultHTML += `
            <a href="${productLinks[product]}">
                <p>${product}</p>
                <img src="${imageLinks[product]}" alt="${product}" style=" height: auto;" />
            </a>`;
        });

        resultHTML += `</div>`;

        resultCard.innerHTML = resultHTML;
        resultContainer.appendChild(resultCard);

        questionSlider.style.display = "none";
        resultSlider.style.display = "block";
    }
});

</script>
    <style>
      .question-slider-
      .question-slider,
      .result-slider {
        overflow: hidden;
        width: 100%;
        height: 100vh;
        position: relative;
        display: flex;
        align-items: center;
      }

      .question-cards,
      .result-cards {
        display: flex;
        transition: transform 0.3s ease-out;
      }

      .question-card,
      .result-card {
        color: white;
        min-width: 80vw;
        margin: 10vw;
        height: 80vh;
        display: flex;
        flex-direction: column;
        align-items: center;
        justify-content: center;
        border-radius: 63px;
        background: #363059 !important;
        box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
        user-select: none;
        padding: 20px 6vw;
        box-sizing: border-box;
        position: relative;
      }

      .choices {
        margin-bottom: 20px;
        width: 100%;
      }

      .choices label {
        display: block;
        margin-bottom: 10px;
        font-size: 18px;
      }

      .choices input[type="radio"],
      .choices input[type="checkbox"] {
        margin-right: 10px;
      }

      .next-button,
      .back-button,
      .submit-button {
        font-size: 24px;
        background: transparent;
        border: none;
        padding: 10px 20px;
        cursor: pointer;
        transition: background-color 0.3s ease;
        bottom: 20px;
      }
      .next-button:disabled,
      .submit-button:disabled {
        background-color: transparent;
        cursor: not-allowed;
      }
      .next-back-ques-buttons {
        display: flex;
        justify-content: center;
        width: 100%;
      }
      .result-and-image {
flex-wrap:wrap;
width:50%;
        display: flex;
        align-items: center;
        margin-bottom: 20px;
      }

      .result-and-image img {
width:unset;
        margin-left: 0px;
      }
    </style>